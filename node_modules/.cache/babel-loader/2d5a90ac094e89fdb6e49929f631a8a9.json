{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\wie19\\\\react\\\\projekt\\\\src\\\\customercomp\\\\UserProfile.js\";\nimport React, { Component } from 'react';\nimport firebase from \"../components/FirebaseConfig\";\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeCondition = e => {\n      e.preventDefault();\n\n      if (this.state.condition) {\n        this.setState({\n          condition: false\n        });\n      } else {\n        this.setState({\n          condition: true\n        });\n      }\n    };\n\n    this.changePassword = e => {\n      e.preventDefault();\n\n      if (this.state.passwordChange) {\n        this.setState({\n          passwordChange: false\n        });\n      } else {\n        this.setState({\n          passwordChange: true\n        });\n      }\n    };\n\n    this.onChangeUsername = e => {\n      e.preventDefault();\n\n      if (length(e.target.value) > 1) {\n        this.setState({\n          username: e.target.value\n        });\n      } else {\n        this.setState({\n          username: null\n        });\n      }\n    };\n\n    this.onChangeEmail = e => {\n      e.preventDefault();\n\n      if (length(e.target.value) > 1) {\n        this.setState({\n          email: e.target.value\n        });\n      } else {\n        this.setState({\n          email: null\n        });\n      }\n    };\n\n    this.onChangeOldPassword = e => {\n      e.preventDefault();\n      this.setState({\n        oldPassword: e.target.value\n      });\n    };\n\n    this.onChangeNewPassword = e => {\n      e.preventDefault();\n      this.setState({\n        newPassword: e.target.value\n      });\n    };\n\n    this.onChangeNewPasswordRepeat = e => {\n      e.preventDefault();\n      this.setState({\n        newPasswordRepeat: e.target.value\n      });\n\n      if (this.state.newPassword !== this.state.newPasswordRepeat) {\n        this.setState({\n          error: \"Lösenorden matchar inte\",\n          preventEarlySubmit: true\n        });\n      } else {\n        this.setState({\n          error: \"Lösenorden matchar\",\n          preventEarlySubmit: false\n        });\n      }\n    };\n\n    this.onSubmitChangePassword = e => {\n      e.preventDefault();\n      var user = firebase.auth().currentUser;\n\n      if (this.state.oldPassword === user.password) {\n        console.log(\"yes\");\n      }\n    };\n\n    this.state = {\n      condition: true,\n      passwordChange: false,\n      preventEarlySubmit: true,\n      username: null,\n      email: null,\n      error: \"\"\n    };\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => this.setState({\n      username: user.displayName,\n      email: user.email\n    }));\n  }\n\n  onSubmitEdit(e) {\n    e.preventDefault();\n    var user = firebase.auth().currentUser;\n\n    if (this.state.username === null && this.state.email === null) {\n      this.changeCondition();\n    } else if (this.state.username === null) {\n      user.updateEmail(this.state.email);\n      this.changeCondition();\n    } else if (this.state.email === null) {\n      user.updateProfile({\n        displayName: this.state.username\n      });\n      this.changeCondition();\n    } else {\n      user.updateProfile({\n        displayName: this.state.username\n      });\n      user.updateEmail(this.state.email);\n      this.changeCondition();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, !this.state.passwordChange && this.state.condition ? /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }, \"Namn:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 29\n      }\n    }, this.state.username)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 29\n      }\n    }, \"Email:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, this.state.email)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.changePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 33\n      }\n    }, \"\\xC4ndra l\\xF6senord\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.changeCondition,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 33\n      }\n    }, \"\\xC4ndra min information\")))) : !this.state.passwordChange && !this.state.condition ? /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 33\n      }\n    }, \"Namn:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      onChange: this.onChangeUsername,\n      placeholder: this.state.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 33\n      }\n    }, \"Email:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      onChange: this.onChangeEmail,\n      placeholder: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onSubmitEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 37\n      }\n    }, \"Spara\")))) : /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 33\n      }\n    }, \"Gammalt l\\xF6senord:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"oldPassword\",\n      onChange: this.onChangeOldPassword,\n      placeholder: this.state.oldpassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 33\n      }\n    }, \"Nytt L\\xF6senord:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"newPassword\",\n      onChange: this.onChangeNewPassword,\n      placeholder: this.state.newpassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 33\n      }\n    }, \"Upprepa L\\xF6senord:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"newPasswordRepeat\",\n      onChange: this.onChangeNewPasswordRepeat,\n      placeholder: this.state.newpasswordrepeat,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 33\n      }\n    }, this.state.error), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onSubmitChangePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 37\n      }\n    }, \"Spara\")))));\n  }\n\n}\n\nexport default UserProfile;","map":{"version":3,"sources":["C:/xampp/htdocs/wie19/react/projekt/src/customercomp/UserProfile.js"],"names":["React","Component","firebase","UserProfile","constructor","props","changeCondition","e","preventDefault","state","condition","setState","changePassword","passwordChange","onChangeUsername","length","target","value","username","onChangeEmail","email","onChangeOldPassword","oldPassword","onChangeNewPassword","newPassword","onChangeNewPasswordRepeat","newPasswordRepeat","error","preventEarlySubmit","onSubmitChangePassword","user","auth","currentUser","password","console","log","componentDidMount","onAuthStateChanged","displayName","onSubmitEdit","updateEmail","updateProfile","render","oldpassword","newpassword","newpasswordrepeat"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,8BAArB;;AAEA,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;AAChCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAiBnBC,eAjBmB,GAiBAC,CAAD,IAAO;AACrBA,MAAAA,CAAC,CAACC,cAAF;;AACA,UAAI,KAAKC,KAAL,CAAWC,SAAf,EAA0B;AACtB,aAAKC,QAAL,CAAc;AAAED,UAAAA,SAAS,EAAE;AAAb,SAAd;AACH,OAFD,MAEO;AACH,aAAKC,QAAL,CAAc;AAAED,UAAAA,SAAS,EAAE;AAAb,SAAd;AACH;AACJ,KAxBkB;;AAAA,SA0BnBE,cA1BmB,GA0BDL,CAAD,IAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;;AACA,UAAI,KAAKC,KAAL,CAAWI,cAAf,EAA+B;AAC3B,aAAKF,QAAL,CAAc;AAAEE,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACH,OAFD,MAEO;AACH,aAAKF,QAAL,CAAc;AAAEE,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACH;AACJ,KAjCkB;;AAAA,SAmCnBC,gBAnCmB,GAmCCP,CAAD,IAAO;AACtBA,MAAAA,CAAC,CAACC,cAAF;;AACA,UAAIO,MAAM,CAACR,CAAC,CAACS,MAAF,CAASC,KAAV,CAAN,GAAyB,CAA7B,EAAgC;AAC5B,aAAKN,QAAL,CAAc;AAAEO,UAAAA,QAAQ,EAAEX,CAAC,CAACS,MAAF,CAASC;AAArB,SAAd;AACH,OAFD,MAEO;AACH,aAAKN,QAAL,CAAc;AAAEO,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACH;AACJ,KA1CkB;;AAAA,SA4CnBC,aA5CmB,GA4CFZ,CAAD,IAAO;AACnBA,MAAAA,CAAC,CAACC,cAAF;;AACA,UAAIO,MAAM,CAACR,CAAC,CAACS,MAAF,CAASC,KAAV,CAAN,GAAyB,CAA7B,EAAgC;AAC5B,aAAKN,QAAL,CAAc;AAAES,UAAAA,KAAK,EAAEb,CAAC,CAACS,MAAF,CAASC;AAAlB,SAAd;AACH,OAFD,MAEO;AACH,aAAKN,QAAL,CAAc;AAAES,UAAAA,KAAK,EAAE;AAAT,SAAd;AACH;AACJ,KAnDkB;;AAAA,SAqDnBC,mBArDmB,GAqDId,CAAD,IAAO;AACzBA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKG,QAAL,CAAc;AAAEW,QAAAA,WAAW,EAAEf,CAAC,CAACS,MAAF,CAASC;AAAxB,OAAd;AACH,KAxDkB;;AAAA,SAyDnBM,mBAzDmB,GAyDIhB,CAAD,IAAO;AACzBA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKG,QAAL,CAAc;AAAEa,QAAAA,WAAW,EAAEjB,CAAC,CAACS,MAAF,CAASC;AAAxB,OAAd;AACH,KA5DkB;;AAAA,SA6DnBQ,yBA7DmB,GA6DUlB,CAAD,IAAO;AAC/BA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKG,QAAL,CAAc;AAAEe,QAAAA,iBAAiB,EAAEnB,CAAC,CAACS,MAAF,CAASC;AAA9B,OAAd;;AACA,UAAI,KAAKR,KAAL,CAAWe,WAAX,KAA2B,KAAKf,KAAL,CAAWiB,iBAA1C,EAA6D;AACzD,aAAKf,QAAL,CAAc;AAAEgB,UAAAA,KAAK,EAAE,yBAAT;AAAoCC,UAAAA,kBAAkB,EAAE;AAAxD,SAAd;AACH,OAFD,MAEO;AACH,aAAKjB,QAAL,CAAc;AAAEgB,UAAAA,KAAK,EAAE,oBAAT;AAA+BC,UAAAA,kBAAkB,EAAE;AAAnD,SAAd;AACH;AACJ,KArEkB;;AAAA,SAuEnBC,sBAvEmB,GAuEOtB,CAAD,IAAO;AAC5BA,MAAAA,CAAC,CAACC,cAAF;AAEA,UAAIsB,IAAI,GAAG5B,QAAQ,CAAC6B,IAAT,GAAgBC,WAA3B;;AAEA,UAAI,KAAKvB,KAAL,CAAWa,WAAX,KAA2BQ,IAAI,CAACG,QAApC,EAA8C;AAC1CC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH;AACJ,KA/EkB;;AAGf,SAAK1B,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,IADF;AAETG,MAAAA,cAAc,EAAE,KAFP;AAGTe,MAAAA,kBAAkB,EAAE,IAHX;AAITV,MAAAA,QAAQ,EAAE,IAJD;AAKTE,MAAAA,KAAK,EAAE,IALE;AAMTO,MAAAA,KAAK,EAAE;AANE,KAAb;AAQH;;AAEDS,EAAAA,iBAAiB,GAAG;AAChBlC,IAAAA,QAAQ,CAAC6B,IAAT,GAAgBM,kBAAhB,CAAmCP,IAAI,IAAI,KAAKnB,QAAL,CAAc;AAAEO,MAAAA,QAAQ,EAAEY,IAAI,CAACQ,WAAjB;AAA8BlB,MAAAA,KAAK,EAAEU,IAAI,CAACV;AAA1C,KAAd,CAA3C;AACH;;AAkEDmB,EAAAA,YAAY,CAAChC,CAAD,EAAI;AACZA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIsB,IAAI,GAAG5B,QAAQ,CAAC6B,IAAT,GAAgBC,WAA3B;;AACA,QAAI,KAAKvB,KAAL,CAAWS,QAAX,KAAwB,IAAxB,IAAgC,KAAKT,KAAL,CAAWW,KAAX,KAAqB,IAAzD,EAA+D;AAC3D,WAAKd,eAAL;AACH,KAFD,MAEO,IAAI,KAAKG,KAAL,CAAWS,QAAX,KAAwB,IAA5B,EAAkC;AACrCY,MAAAA,IAAI,CAACU,WAAL,CAAiB,KAAK/B,KAAL,CAAWW,KAA5B;AACA,WAAKd,eAAL;AACH,KAHM,MAGA,IAAI,KAAKG,KAAL,CAAWW,KAAX,KAAqB,IAAzB,EAA+B;AAClCU,MAAAA,IAAI,CAACW,aAAL,CAAmB;AAAEH,QAAAA,WAAW,EAAE,KAAK7B,KAAL,CAAWS;AAA1B,OAAnB;AACA,WAAKZ,eAAL;AACH,KAHM,MAGA;AACHwB,MAAAA,IAAI,CAACW,aAAL,CAAmB;AAAEH,QAAAA,WAAW,EAAE,KAAK7B,KAAL,CAAWS;AAA1B,OAAnB;AACAY,MAAAA,IAAI,CAACU,WAAL,CAAiB,KAAK/B,KAAL,CAAWW,KAA5B;AACA,WAAKd,eAAL;AACH;AACJ;;AAEDoC,EAAAA,MAAM,GAAG;AAEL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,CAAC,KAAKjC,KAAL,CAAWI,cAAZ,IAA8B,KAAKJ,KAAL,CAAWC,SAAzC,gBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKD,KAAL,CAAWS,QADhB,CAJJ,CADJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKT,KAAL,CAAWW,KADhB,CAJJ,CATJ,eAiBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,OAAO,EAAE,KAAKR,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,OAAO,EAAE,KAAKN,eAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,CAJJ,CAjBJ,CADH,GA2BG,CAAC,KAAKG,KAAL,CAAWI,cAAZ,IAA8B,CAAC,KAAKJ,KAAL,CAAWC,SAA1C,gBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,UAAxB;AAAmC,MAAA,QAAQ,EAAE,KAAKI,gBAAlD;AAAoE,MAAA,WAAW,EAAE,KAAKL,KAAL,CAAWS,QAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CADJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,IAAI,EAAC,OAAzB;AAAiC,MAAA,QAAQ,EAAE,KAAKC,aAAhD;AAA+D,MAAA,WAAW,EAAE,KAAKV,KAAL,CAAWW,KAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CATJ,eAiBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,OAAO,EAAE,KAAKmB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CAJJ,CAjBJ,CADJ,gBA2BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,aAA5B;AAA0C,MAAA,QAAQ,EAAE,KAAKlB,mBAAzD;AAA8E,MAAA,WAAW,EAAE,KAAKZ,KAAL,CAAWkC,WAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CADJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,aAA5B;AAA0C,MAAA,QAAQ,EAAE,KAAKpB,mBAAzD;AAA8E,MAAA,WAAW,EAAE,KAAKd,KAAL,CAAWmC,WAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CATJ,eAiBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,mBAA5B;AAAgD,MAAA,QAAQ,EAAE,KAAKnB,yBAA/D;AAA0F,MAAA,WAAW,EAAE,KAAKhB,KAAL,CAAWoC,iBAAlH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CAjBJ,eAyBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKpC,KAAL,CAAWkB,KADhB,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,OAAO,EAAE,KAAKE,sBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CAJJ,CAzBJ,CAvDZ,CADJ;AA8FH;;AApM+B;;AAuMpC,eAAe1B,WAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport firebase from \"../components/FirebaseConfig\";\r\n\r\nclass UserProfile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            condition: true,\r\n            passwordChange: false,\r\n            preventEarlySubmit: true,\r\n            username: null,\r\n            email: null,\r\n            error: \"\",\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged(user => this.setState({ username: user.displayName, email: user.email }))\r\n    }\r\n\r\n    changeCondition = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.condition) {\r\n            this.setState({ condition: false });\r\n        } else {\r\n            this.setState({ condition: true });\r\n        }\r\n    }\r\n\r\n    changePassword = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.passwordChange) {\r\n            this.setState({ passwordChange: false });\r\n        } else {\r\n            this.setState({ passwordChange: true });\r\n        }\r\n    }\r\n\r\n    onChangeUsername = (e) => {\r\n        e.preventDefault();\r\n        if (length(e.target.value) > 1) {\r\n            this.setState({ username: e.target.value });\r\n        } else {\r\n            this.setState({ username: null });\r\n        }\r\n    }\r\n\r\n    onChangeEmail = (e) => {\r\n        e.preventDefault();\r\n        if (length(e.target.value) > 1) {\r\n            this.setState({ email: e.target.value });\r\n        } else {\r\n            this.setState({ email: null });\r\n        }\r\n    }\r\n\r\n    onChangeOldPassword = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ oldPassword: e.target.value });\r\n    }\r\n    onChangeNewPassword = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ newPassword: e.target.value });\r\n    }\r\n    onChangeNewPasswordRepeat = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ newPasswordRepeat: e.target.value });\r\n        if (this.state.newPassword !== this.state.newPasswordRepeat) {\r\n            this.setState({ error: \"Lösenorden matchar inte\", preventEarlySubmit: true });\r\n        } else {\r\n            this.setState({ error: \"Lösenorden matchar\", preventEarlySubmit: false });\r\n        }\r\n    }\r\n\r\n    onSubmitChangePassword = (e) => {\r\n        e.preventDefault();\r\n\r\n        var user = firebase.auth().currentUser\r\n\r\n        if (this.state.oldPassword === user.password) {\r\n            console.log(\"yes\")\r\n        }\r\n    }\r\n\r\n    onSubmitEdit(e) {\r\n        e.preventDefault();\r\n        var user = firebase.auth().currentUser;\r\n        if (this.state.username === null && this.state.email === null) {\r\n            this.changeCondition();\r\n        } else if (this.state.username === null) {\r\n            user.updateEmail(this.state.email);\r\n            this.changeCondition();\r\n        } else if (this.state.email === null) {\r\n            user.updateProfile({ displayName: this.state.username });\r\n            this.changeCondition();\r\n        } else {\r\n            user.updateProfile({ displayName: this.state.username });\r\n            user.updateEmail(this.state.email);\r\n            this.changeCondition();\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                {!this.state.passwordChange && this.state.condition ?\r\n                    <table>\r\n                        <tr>\r\n                            <td>\r\n                                Namn:\r\n                        </td>\r\n                            <td>\r\n                                {this.state.username}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                Email:\r\n                        </td>\r\n                            <td>\r\n                                {this.state.email}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <button onClick={this.changePassword}>Ändra lösenord</button>\r\n                            </td>\r\n                            <td>\r\n                                <button onClick={this.changeCondition}>Ändra min information</button>\r\n                            </td>\r\n                        </tr>\r\n                    </table> :\r\n                    !this.state.passwordChange && !this.state.condition ?\r\n                        <table>\r\n                            <tr>\r\n                                <td>\r\n                                    Namn:\r\n                        </td>\r\n                                <td>\r\n                                    <input type=\"text\" name=\"username\" onChange={this.onChangeUsername} placeholder={this.state.username}></input>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    Email:\r\n                        </td>\r\n                                <td>\r\n                                    <input type=\"email\" name=\"email\" onChange={this.onChangeEmail} placeholder={this.state.email}></input>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    &nbsp;\r\n                        </td>\r\n                                <td>\r\n                                    <button onClick={this.onSubmitEdit}>Spara</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table> :\r\n                        <table>\r\n                            <tr>\r\n                                <td>\r\n                                    Gammalt lösenord:\r\n                        </td>\r\n                                <td>\r\n                                    <input type=\"password\" name=\"oldPassword\" onChange={this.onChangeOldPassword} placeholder={this.state.oldpassword}></input>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    Nytt Lösenord:\r\n                        </td>\r\n                                <td>\r\n                                    <input type=\"password\" name=\"newPassword\" onChange={this.onChangeNewPassword} placeholder={this.state.newpassword}></input>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    Upprepa Lösenord:\r\n                        </td>\r\n                                <td>\r\n                                    <input type=\"password\" name=\"newPasswordRepeat\" onChange={this.onChangeNewPasswordRepeat} placeholder={this.state.newpasswordrepeat}></input>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    {this.state.error}\r\n                                </td>\r\n                                <td>\r\n                                    <button onClick={this.onSubmitChangePassword}>Spara</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserProfile;"]},"metadata":{},"sourceType":"module"}