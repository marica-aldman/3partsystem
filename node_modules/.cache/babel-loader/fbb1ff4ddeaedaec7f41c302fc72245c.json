{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\wie19\\\\react\\\\projekt\\\\src\\\\components\\\\BookingStructure.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\n\nclass BookingStructure extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleBooking = e => {\n      e.preventDefault(); // get local storage\n\n      var cart = [];\n      var item = undefined;\n\n      if (localStorage.getItem('cart')) {\n        //add to cart\n        cart = localStorage.getItem('cart');\n        item = {\n          'Movie': e.target.movie.value,\n          'Date': e.target.date.value,\n          'Time': e.target.time.value,\n          'Salon': e.target.salon.value,\n          'Number': e.target.number.value\n        };\n        cart.append(item);\n      } else {\n        //construct cart\n        item = {\n          'Movie': e.target.movie.value,\n          'Date': e.target.date.value,\n          'Time': e.target.time.value,\n          'Salon': e.target.salon.value,\n          'Number': e.target.number.value\n        };\n        cart.append(item);\n      } // set local storage\n\n\n      localStorage.setItem('cart', cart);\n    };\n\n    this.state = {\n      salons: null,\n      moviedates: undefined\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"here\");\n    axios.get('http://localhost:1337/salons/').then(res => {\n      this.setState({\n        salons: res.data,\n        moviedates: this.props.moviedates\n      });\n      console.log(res);\n      console.log(res.data);\n    });\n  }\n\n  render() {\n    if (!this.state.salons) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        style: {\n          width: \"18rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        style: {\n          width: \"18rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 37\n        }\n      }, \"\\xA0\"), this.state.salons.map(salon => /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 41\n        }\n      }, salon.salon)))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 37\n        }\n      }))))));\n    }\n  }\n\n}\n\nexport default BookingStructure;","map":{"version":3,"sources":["C:/xampp/htdocs/wie19/react/projekt/src/components/BookingStructure.js"],"names":["React","Component","axios","BookingStructure","constructor","props","handleBooking","e","preventDefault","cart","item","undefined","localStorage","getItem","target","movie","value","date","time","salon","number","append","setItem","state","salons","moviedates","componentDidMount","console","log","get","then","res","setState","data","render","width","map"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass BookingStructure extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            salons: null,\r\n            moviedates: undefined,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"here\")\r\n        axios\r\n            .get('http://localhost:1337/salons/')\r\n            .then((res) => {\r\n                this.setState({ salons: res.data, moviedates: this.props.moviedates });\r\n                console.log(res);\r\n                console.log(res.data);\r\n            })\r\n    }\r\n\r\n    handleBooking = (e) => {\r\n        e.preventDefault();\r\n        // get local storage\r\n        var cart = [];\r\n        var item = undefined;\r\n        if (localStorage.getItem('cart')) {\r\n            //add to cart\r\n            cart = localStorage.getItem('cart');\r\n            item = { 'Movie': e.target.movie.value, 'Date': e.target.date.value, 'Time': e.target.time.value, 'Salon': e.target.salon.value, 'Number': e.target.number.value }\r\n            cart.append(item);\r\n        } else {\r\n            //construct cart\r\n            item = { 'Movie': e.target.movie.value, 'Date': e.target.date.value, 'Time': e.target.time.value, 'Salon': e.target.salon.value, 'Number': e.target.number.value }\r\n            cart.append(item);\r\n        }\r\n        // set local storage\r\n        localStorage.setItem('cart', cart)\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.salons) {\r\n            return (\r\n\r\n                <div className={\"card\"} style={{ width: \"18rem\" }}>\r\n                    <div></div>\r\n                </div >\r\n\r\n            )\r\n        } else {\r\n            return (\r\n\r\n                <div className={\"card\"} style={{ width: \"18rem\" }}>\r\n                    <div className={\"card-wrapper\"}>\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>\r\n                                        &nbsp;\r\n                                    </th>\r\n                                    {this.state.salons.map((salon) =>\r\n                                        <th>\r\n                                            {salon.salon}\r\n                                        </th>\r\n                                    )}\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div >\r\n\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default BookingStructure;"]},"metadata":{},"sourceType":"module"}