{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\wie19\\\\react\\\\projekt\\\\src\\\\admincomp\\\\EditShedule.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Redirect, withRouter } from \"react-router-dom\";\n\nclass EditShedule extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMovie = e => {};\n\n    this.state = {\n      date: null || JSON.parse(localStorage.getItem('changeShedule'))\n    };\n  }\n\n  async componentDidMount() {\n    const res1 = await axios.get('http://localhost:1337/movies/');\n    this.setState({\n      movies: res1.data\n    });\n  }\n\n  onSubmitHandleSaveDate(e) {\n    // get the movie\n    axios.get('http://localhost:1337/movies/' + e.target.movie.value).then(resM => {\n      axios.put('http://localhost:1337/dates/' + this.state.date.id, {\n        movie: resM\n      });\n    });\n    localStorage.removeItem('changeShedule');\n    this.props.history.push(\"/schedules\");\n  }\n\n  render() {\n    if (this.props.aUserGroup != \"admin\") {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"addFormMain\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"addFormWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"addForm\",\n      onSubmit: this.onSubmitHandleSaveDate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }\n    }, \"Salong\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, this.state.date.salons[0].salon.name), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }, \"Datum\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, this.state.date.date), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }, \"Tid\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }\n    }, this.state.date.time), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, \"Film\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"movie\",\n      onChange: this.handleMovie,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, this.state.movies.map(movie => /*#__PURE__*/React.createElement(\"option\", {\n      value: movie.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 37\n      }\n    }, movie.title)))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, \"Spara\"))));\n  }\n\n}\n\nexport default withRouter(EditShedule);","map":{"version":3,"sources":["C:/xampp/htdocs/wie19/react/projekt/src/admincomp/EditShedule.js"],"names":["React","Component","axios","Redirect","withRouter","EditShedule","constructor","props","handleMovie","e","state","date","JSON","parse","localStorage","getItem","componentDidMount","res1","get","setState","movies","data","onSubmitHandleSaveDate","target","movie","value","then","resM","put","id","removeItem","history","push","render","aUserGroup","bind","salons","salon","name","time","map","title"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\n\r\nclass EditShedule extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            date: null || JSON.parse(localStorage.getItem('changeShedule')),\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const res1 = await axios.get('http://localhost:1337/movies/')\r\n        this.setState({ movies: res1.data })\r\n    }\r\n\r\n    handleMovie = (e) => {\r\n\r\n    }\r\n\r\n    onSubmitHandleSaveDate(e) {\r\n\r\n        // get the movie\r\n\r\n        axios.get('http://localhost:1337/movies/' + e.target.movie.value).then((resM) => {\r\n            axios.put('http://localhost:1337/dates/' + this.state.date.id, {\r\n                movie: resM\r\n            })\r\n        })\r\n\r\n        localStorage.removeItem('changeShedule');\r\n        this.props.history.push(\"/schedules\");\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.props.aUserGroup != \"admin\") {\r\n            return (<Redirect to=\"/\" />)\r\n        }\r\n\r\n        return (\r\n            <div className={\"addFormMain\"}>\r\n                <div className={\"addFormWrapper\"}>\r\n                    <form className={\"addForm\"} onSubmit={this.onSubmitHandleSaveDate.bind(this)}>\r\n                        <div>\r\n                            Salong\r\n                        </div>\r\n                        <div>\r\n                            {this.state.date.salons[0].salon.name}\r\n                        </div>\r\n                        <div>\r\n                            Datum\r\n                        </div>\r\n                        <div>\r\n                            {this.state.date.date}\r\n                        </div>\r\n                        <div>\r\n                            Tid\r\n                        </div>\r\n                        <div>\r\n                            {this.state.date.time}\r\n                        </div>\r\n                        <div>\r\n                            Film\r\n                        </div>\r\n                        <div>\r\n                            <select name={\"movie\"} onChange={this.handleMovie}>\r\n                                {this.state.movies.map((movie) =>\r\n                                    <option value={movie.id}>\r\n                                        {movie.title}\r\n                                    </option>\r\n                                )}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <button type=\"submit\">Spara</button>\r\n                    </form >\r\n                </div >\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(EditShedule);"]},"metadata":{},"sourceType":"module"}