{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\wie19\\\\react\\\\projekt\\\\src\\\\admincomp\\\\EditShedule.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Redirect, withRouter } from \"react-router-dom\";\n\nclass EditShedule extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMovie = e => {\n      axios.get('http://localhost:1337/movies/' + e.target.value).then(resM => {\n        console.log(resM);\n        this.setState({\n          movie: resM.data\n        });\n      });\n    };\n\n    this.state = {\n      date: null || JSON.parse(localStorage.getItem('changeShedule'))\n    };\n  }\n\n  async componentDidMount() {\n    const res1 = await axios.get('http://localhost:1337/movies/');\n    const res2 = await axios.get('http://localhost:1337/movies/1');\n    this.setState({\n      movies: res1.data,\n      movie: res2.data\n    });\n  }\n\n  onSubmitHandleSaveDate(e) {\n    // get the movie\n    axios.put('http://localhost:1337/dates/' + this.state.date.id, {\n      movie: this.state.movie\n    });\n    localStorage.removeItem('changeShedule');\n    this.props.history.push(\"/mod/shedules\");\n  }\n\n  render() {\n    if (this.props.aUserGroup != \"admin\") {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }\n      });\n    }\n\n    console.log(this.state.date);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editSheduleMain\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editSheduleWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"editShedule\",\n      onSubmit: this.onSubmitHandleSaveDate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, \"Salong\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }, this.state.date.salon.Name), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, \"Datum\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }, this.state.date.date), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }\n    }, \"Tid\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, this.state.date.time === \"17:00:00.000\" ? \"17.00\" : this.state.date.time === \"19:30:00.000\" ? \"19.00\" : this.state.date.time === \"22:00:00.000\" ? \"22.00\" : \"Oh Dear\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, \"Film\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"movie\",\n      onChange: this.handleMovie,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }, this.state.movies && this.state.movies.map(movie => /*#__PURE__*/React.createElement(\"option\", {\n      value: movie.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 37\n      }\n    }, movie.title)))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, \"Spara\"))));\n  }\n\n}\n\nexport default withRouter(EditShedule);","map":{"version":3,"sources":["C:/xampp/htdocs/wie19/react/projekt/src/admincomp/EditShedule.js"],"names":["React","Component","axios","Redirect","withRouter","EditShedule","constructor","props","handleMovie","e","get","target","value","then","resM","console","log","setState","movie","data","state","date","JSON","parse","localStorage","getItem","componentDidMount","res1","res2","movies","onSubmitHandleSaveDate","put","id","removeItem","history","push","render","aUserGroup","bind","salon","Name","time","map","title"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\n\r\nclass EditShedule extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            date: null || JSON.parse(localStorage.getItem('changeShedule')),\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const res1 = await axios.get('http://localhost:1337/movies/')\r\n        const res2 = await axios.get('http://localhost:1337/movies/1')\r\n        this.setState({ movies: res1.data, movie: res2.data })\r\n    }\r\n\r\n    handleMovie = (e) => {\r\n        axios.get('http://localhost:1337/movies/' + e.target.value).then((resM) => {\r\n            console.log(resM)\r\n            this.setState({ movie: resM.data })\r\n        })\r\n    }\r\n\r\n    onSubmitHandleSaveDate(e) {\r\n\r\n        // get the movie\r\n\r\n        axios.put('http://localhost:1337/dates/' + this.state.date.id, {\r\n            movie: this.state.movie\r\n        })\r\n\r\n        localStorage.removeItem('changeShedule');\r\n        this.props.history.push(\"/mod/shedules\");\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.props.aUserGroup != \"admin\") {\r\n            return (<Redirect to=\"/\" />)\r\n        }\r\n        console.log(this.state.date)\r\n\r\n        return (\r\n            <div className={\"editSheduleMain\"}>\r\n                <div className={\"editSheduleWrapper\"}>\r\n                    <form className={\"editShedule\"} onSubmit={this.onSubmitHandleSaveDate.bind(this)}>\r\n                        <div>\r\n                            Salong\r\n                        </div>\r\n                        <div>\r\n                            {this.state.date.salon.Name}\r\n                        </div>\r\n                        <div>\r\n                            Datum\r\n                        </div>\r\n                        <div>\r\n                            {this.state.date.date}\r\n                        </div>\r\n                        <div>\r\n                            Tid\r\n                        </div>\r\n                        <div>\r\n                            {this.state.date.time === \"17:00:00.000\" ? \"17.00\" : this.state.date.time === \"19:30:00.000\" ? \"19.00\" : this.state.date.time === \"22:00:00.000\" ? \"22.00\" : \"Oh Dear\"}\r\n                        </div>\r\n                        <div>\r\n                            Film\r\n                        </div>\r\n                        <div>\r\n                            <select name={\"movie\"} onChange={this.handleMovie}>\r\n                                {this.state.movies && this.state.movies.map((movie) =>\r\n                                    <option value={movie.id}>\r\n                                        {movie.title}\r\n                                    </option>\r\n                                )}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <button type=\"submit\">Spara</button>\r\n                    </form >\r\n                </div >\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(EditShedule);"]},"metadata":{},"sourceType":"module"}