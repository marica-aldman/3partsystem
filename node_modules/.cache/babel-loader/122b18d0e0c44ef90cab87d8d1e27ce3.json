{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\wie19\\\\react\\\\projekt\\\\src\\\\admincomp\\\\EditShedule.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Redirect, withRouter } from \"react-router-dom\";\n\nclass HandleShedule extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMovie = e => {};\n\n    this.state = {\n      date: null || JSON.parse(localStorage.getItem('changeShedule'))\n    };\n  }\n\n  componentDidMount() {}\n\n  async onSubmitHandleSaveDate(e) {\n    // get the movie\n    var resM = await axios.get('http://localhost:1337/movies/' + e.target.movie.value);\n    axios.put('http://localhost:1337/dates/' + this.state.date, {\n      movie: resM\n    });\n    localStorage.removeItem('changeShedule');\n    this.props.history.push(\"/schedules\");\n  }\n\n  render() {\n    if (this.props.aUserGroup != \"admin\") {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"addFormMain\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"addFormWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"addForm\",\n      onSubmit: this.onSubmitHandleSaveDate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }\n    }, \"Salong\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, this.state.date.salons[0].salon.name), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, \"Datum\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, this.state.date.date), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, \"Tid\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }, this.state.date.time), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, \"Film\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"movie\",\n      onChange: this.handleMovie,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    }, this.state.movies.map(movie => /*#__PURE__*/React.createElement(\"option\", {\n      value: movie.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 37\n      }\n    }, movie.title)))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, \"Spara\"))));\n  }\n\n}\n\nexport default HandleShedule;","map":{"version":3,"sources":["C:/xampp/htdocs/wie19/react/projekt/src/admincomp/EditShedule.js"],"names":["React","Component","axios","Redirect","withRouter","HandleShedule","constructor","props","handleMovie","e","state","date","JSON","parse","localStorage","getItem","componentDidMount","onSubmitHandleSaveDate","resM","get","target","movie","value","put","removeItem","history","push","render","aUserGroup","bind","salons","salon","name","time","movies","map","id","title"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\n\r\nclass HandleShedule extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            date: null || JSON.parse(localStorage.getItem('changeShedule')),\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    handleMovie = (e) => {\r\n\r\n    }\r\n\r\n    async onSubmitHandleSaveDate(e) {\r\n\r\n        // get the movie\r\n\r\n        var resM = await axios.get('http://localhost:1337/movies/' + e.target.movie.value)\r\n\r\n        axios.put('http://localhost:1337/dates/' + this.state.date, {\r\n            movie: resM\r\n        })\r\n\r\n        localStorage.removeItem('changeShedule');\r\n        this.props.history.push(\"/schedules\")\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.props.aUserGroup != \"admin\") {\r\n            return (<Redirect to=\"/\" />)\r\n        }\r\n\r\n        return (\r\n            <div className={\"addFormMain\"}>\r\n                <div className={\"addFormWrapper\"}>\r\n                    <form className={\"addForm\"} onSubmit={this.onSubmitHandleSaveDate.bind(this)}>\r\n                        <div>\r\n                            Salong\r\n                        </div>\r\n                        <div>\r\n                            {this.state.date.salons[0].salon.name}\r\n                        </div>\r\n                        <div>\r\n                            Datum\r\n                        </div>\r\n                        <div>\r\n                            {this.state.date.date}\r\n                        </div>\r\n                        <div>\r\n                            Tid\r\n                        </div>\r\n                        <div>\r\n                            {this.state.date.time}\r\n                        </div>\r\n                        <div>\r\n                            Film\r\n                        </div>\r\n                        <div>\r\n                            <select name={\"movie\"} onChange={this.handleMovie}>\r\n                                {this.state.movies.map((movie) =>\r\n                                    <option value={movie.id}>\r\n                                        {movie.title}\r\n                                    </option>\r\n                                )}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <button type=\"submit\">Spara</button>\r\n                    </form >\r\n                </div >\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default HandleShedule;"]},"metadata":{},"sourceType":"module"}